<div class="shop" ng-if="zm.sidePanels.options">
  <div class="shop-title">
    <h2>Options</h2>
    <button ng-click="zm.closeSidePanels();">Close</button>
  </div>
  <div class="upgrades">
      <div class="upgrade">
          <h4>How to play</h4>
          <ul>
              <li ng-repeat="text in zm.howToPlay">{{text}}</li>
          </ul>
      </div>
      <div class="upgrade">
          <h4>Auto Restart Level</h4>
          <p>Automatically restart the current level after 3 seconds. For when you want to farm. On: will stay at the same level. Off: proceeds to further levels.</p>
          <button ng-click="zm.toggleAutoStart();">{{zm.model.persistentData.autoStart ? "On" : "Off"}}</button>
      </div>
      <div class="upgrade">
          <h4>3 Second Wait On Level Completion</h4>
          <p>Keep the 3 second wait for autostarting a level. On: Wait, Off: Removed</p>
          <button ng-click="zm.toggleAutoStartWait();">{{zm.model.persistentData.autoStartWait ? "On" : "Off"}}</button>
      </div>
      <div class="upgrade">
          <h4>Autosell Gear Without Spells</h4>
          <p>Autosell those kinds of gear.</p>
          <button ng-click="zm.toggleAutoSellGear();">{{zm.model.persistentData.autoSellGear ? "On" : "Off"}}</button>
      </div>
      <div class="upgrade">
          <h4>Autosell Legendary Gear</h4>
          <p>Autosell that gear. Be careful with this..</p>
          <button ng-click="zm.toggleAutoSellGearLegendary();">{{zm.model.persistentData.autoSellGearLegendary ? "On" : "Off"}}</button>
      </div>
      <div class="upgrade">
          <h4>Auto Prestige</h4>
          <p>Automatically prestige after failing the same boss level 3 times.</p>
          <button ng-click="zm.toggleAutoPrestige();">{{zm.model.persistentData.autoPrestige ? "On" : "Off"}}</button>
      </div>
      <div class="upgrade">
          <h4>Auto-Auto</h4>
          <p>All shop and factory auto-buy toggles default to On. Individual toggles still work to exclude specific items.</p>
          <button ng-click="zm.toggleAutoAuto();">{{zm.model.persistentData.autoAuto ? "On" : "Off"}}</button>
      </div>
      <div class="upgrade">
          <h4>Render Resolution</h4>
          <p>Choose your preferred resolution to render the game.</p>
          <p>50% will run better on slower hardware but may look blurry.</p>
          <p>100% will pixel match the resolution reported by your browser.</p>
          <p>200% will double the reported values which may look better on retina devices or smartphones.</p>
          <button ng-click="zm.toggleResolution(0.5);" class="{{zm.getResolution() == 0.5 ? 'active' : ''}}">50%</button>
          <button ng-click="zm.toggleResolution(1);" class="{{zm.getResolution() == 1 ? 'active' : ''}}">100%</button>
          <button ng-click="zm.toggleResolution(2);" class="{{zm.getResolution() == 2 ? 'active' : ''}}">200%</button>
      </div>
      <div class="upgrade">
          <h4>Particle Effects</h4>
          <p>Disable particles like blood and smoke to improve performance</p>
          <button ng-click="zm.toggleParticles();">{{zm.model.persistentData.particles ? "On" : "Off"}}</button>
      </div>
      <div class="upgrade" ng-if="zm.model.deferredPrompt">
          <h4>Add to Home Screen</h4>
          <p>You can add this game to your smartphones home screen without having to install anything.</p>
          <button ng-click="zm.addToHomeScreen();">Add to Home Screen</button>
      </div>
      <div class="upgrade" ng-if="!zm.model.kongregate">
          <h4>Toggle Full Screen</h4>
          <p>Toggle full screen mode. Can be helpful on smaller screen devices.</p>
          <button ng-click="zm.model.toggleFullscreen();">Toggle Full Screen</button>
      </div>
      <div class="upgrade">
          <h4>Show Zoom Buttons</h4>
          <p>If you're unable to zoom with other methods this will add some buttons to the screen for zooming the map.</p>
          <button ng-click="zm.toggleZoomButtons();">{{zm.model.persistentData.zoomButtons ? "On" : "Off"}}</button>
      </div>
      <div class="upgrade">
          <h4>Loot Chat Filter</h4>
          <p>Hide loot notifications below a certain rarity. Click to cycle through ranks.</p>
          <button ng-click="zm.cycleLootFilter();">{{zm.lootFilterLabel()}}</button>
      </div>
      <div class="upgrade">
          <h4>Show Framerate Counter</h4>
          <p>Used for performance testing</p>
          <button ng-click="zm.toggleShowFps();">{{zm.model.persistentData.showfps ? "On" : "Off"}}</button>
      </div>
      <div class="upgrade">
          <h4>Manage Save</h4>
          <p>Import or export a saved game</p>
          <label class="blood">Warning: Importing a save game will overwrite your current progress</label>
          <a ng-if="zm.model.encodedContent" href="{{zm.model.encodedContent}}" download="{{zm.model.savefilename}}" class="button">
              <button>Download Save File</button>
          </a>
          <button onclick="document.getElementById('import-file').click();">Import Save</button>
          <input type="file" id="import-file" name="import-file" enctype="multipart/form-data" accept=".sav" hidden custom-on-change="zm.model.importFile" />
          <button ng-click="zm.model.loadFromPlayFab(true)" ng-if="zm.model.playFabId" class="mt-5" ng-disabled="!zm.model.allowPlayFabAction()">Load from Cloud</button>
          <button ng-click="zm.model.saveToPlayFab()" ng-if="zm.model.playFabId" class="mt-5" ng-disabled="!zm.model.allowPlayFabAction()">Save to Cloud</button>
      </div>
      <div class="upgrade">
          <h4>Reset Game</h4>
          <p>This will reset all save data if you want to start from the very beginning again.</p>
          <button ng-click="zm.resetGame();">Reset Game</button>
      </div>
      <div class="upgrade">
          <h4>Changelog (Fork)</h4>

          <p><strong>v1.6.0</strong> <em>2026-02-15</em></p>
          <ul>
              <li>Upgrade info ("i" button) now shows calculated stats for all new upgrades (IDs 75-101)</li>
              <li>Destroy button now works for cap-1 upgrades in the Complete tab</li>
              <li>Added version display on welcome screen and changelog versioning</li>
          </ul>

          <p><strong>v1.5.0</strong> <em>2026-02-15</em></p>
          <ul>
              <li>Skeleton Nets: launch generates bonus bones, spawns temporary skeletons at impact</li>
              <li>Golem Nets: spawns temporary golems at net impact sites</li>
              <li>Net arc easing improvements, Rapid Deployment upgrade (reduced cooldown)</li>
              <li>End-of-level spider parts now load into net launcher</li>
          </ul>

          <p><strong>v1.4.0</strong> <em>2026-02-15</em></p>
          <ul>
              <li>Fixed spider sprites (bigger, dark purple body, bright red eyes, correct anchor)</li>
              <li>Rebalanced Spider Lair + all spider upgrade costs (~1000x increase)</li>
              <li>Fixed Auto-Max Harpies after Strap 'em Together (accounts for 10^rank energy cost)</li>
          </ul>

          <p><strong>v1.3.0</strong> <em>2026-02-13</em></p>
          <ul>
              <li>Zombie Harpies: harpies drop free zombies instead of bombs</li>
              <li>Auto Prestige: auto-prestige after 3 boss failures</li>
              <li>Auto-Auto: all shop/factory auto-buy toggles default to On</li>
              <li>Harpy skeleton/golem delivery (skeleton harpies cost 5x, red tint)</li>
              <li>Necromantic Prodigies: 1 in 100 zombies spawn with skeleton talents</li>
              <li>5s running average effective parts/s, prestige/creature auto-buy toggles</li>
          </ul>

          <p><strong>v1.2.0</strong> <em>2026-02-12</em></p>
          <ul>
              <li>Boss fail auto-restart: losing a boss sends you back 49 levels instead of retrying</li>
              <li>Hybrid Talent Infusion: skeleton combat talents now apply to golems</li>
              <li>Chatlog system: persistent notification feed with chat combining</li>
          </ul>

          <p><strong>v1.1.0</strong> <em>2026-02-10</em></p>
          <ul>
              <li>Spider Lair feature set (9 plans): bone spiders, spider speed, parts collection</li>
          </ul>

          <p><strong>v1.0.0</strong> <em>2026-02-10</em></p>
          <ul>
              <li>Fork baseline: pretty-print, class renaming, section headers</li>
              <li>Merged FrAmed46 balance changes, ring/armband equipment slots</li>
              <li>Save migration system for cross-fork compatibility</li>
          </ul>
      </div>
  </div>
</div>
